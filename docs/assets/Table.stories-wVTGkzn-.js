import{d as O,k as N,l as q,o as l,c as i,b as w,t as S,a as U,F as m,m as x,n as y,p as L}from"./vue.esm-bundler-b56p70N7.js";const G={key:0},K=["colspan","rowspan"],Y=["data-th"],z=O({__name:"Table",props:{title:{type:String},columns:{type:Array,required:!0},dataSources:{type:Array},bordered:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},narrowed:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},scroll:{type:Boolean,default:!1},height:{type:[String,Number],default:"inherit"}},setup(e){const n=e,f=N(()=>{const o=[],u=new Map,c=new Map;let t=0;const a=(s,r=0)=>{o[r]||(o[r]=[]);const p=s.map(h=>{var R;const d={...h,children:void 0};return h.children?d.children=a(h.children,r+1):((h.fixed==="left"||h.fixed===!0)&&u.set(d.dataIndex,d),h.fixed==="right"&&c.set(d.dataIndex,d)),d.colspan=((R=d.children)==null?void 0:R.reduce((V,P)=>P.children?V+P.colspan-1:V,d.children.length))||1,d.sort=t++,d});return o[r]=o[r].concat(p),p};a(n.columns);const I=s=>s?typeof s=="number"?s:parseFloat(s.replace("px","")):0,$=[...u.values()];$.sort((s,r)=>s.sort-r.sort);let C=0;for(const s of $){const r=u.get(s.dataIndex);r.fixedLeft=C;const p=I(r.width);C+=p}const B=[...c.values()];B.sort((s,r)=>r.sort-s.sort);let T=0;for(const s of B){const r=c.get(s.dataIndex);r.fixedRight=T;const p=I(r.width);T+=p}return o}),v=N(()=>{const o=[...f.value.flat().filter(u=>!u.children)];return o.sort((u,c)=>u.sort-c.sort),o});return q(()=>{}),(o,u)=>(l(),i("div",{class:y([{"table-sticky":e.sticky,"table-scroll":e.scroll}]),style:L([{height:e.scroll?typeof e.height=="number"?`${e.height}px`:e.height:void 0}])},[w("table",{id:"main-table",class:y(["table is-fullwidth main-table mobile-optimised",[{"is-bordered":e.bordered,"is-striped":e.striped,"is-hoverable":e.hoverable,"is-narrow":e.narrowed}]])},[e.title?(l(),i("caption",G,S(e.title),1)):U("",!0),w("thead",null,[(l(!0),i(m,null,x(f.value.entries(),([c,t])=>(l(),i("tr",null,[(l(!0),i(m,null,x(t,a=>(l(),i("th",{key:a.key||a.dataIndex,scope:"col",colspan:a.colspan,rowspan:a.colspan===1?f.value.length-c:void 0,class:y({"column-fixed-left":a.fixed==="left"||a.fixed===!0,"column-fixed-right":a.fixed==="right"}),style:L({width:a.colspan===1?typeof a.width=="number"?`${a.width}px`:a.width:void 0,left:a.fixed==="left"||a.fixed===!0?`${a.fixedLeft}px`:void 0,right:a.fixed==="right"?`${a.fixedRight}px`:void 0})},S(a.title),15,K))),128))]))),256))]),w("tbody",null,[(l(!0),i(m,null,x(e.dataSources,c=>(l(),i("tr",null,[(l(!0),i(m,null,x(v.value,t=>(l(),i("td",{key:t.key||t.dataIndex,"data-th":t.title,class:y({"column-fixed-left":t.fixed==="left"||t.fixed===!0,"column-fixed-right":t.fixed==="right"}),style:L({width:t.colspan===1?typeof t.width=="number"?`${t.width}px`:t.width:void 0,left:t.fixed==="left"||t.fixed===!0?`${t.fixedLeft}px`:void 0,right:t.fixed==="right"?`${t.fixedRight}px`:void 0})},S(c[t.dataIndex]),15,Y))),128))]))),256))])],2)],6))}}),j=(e,n)=>{const f=e.__vccOpts||e;for(const[v,o]of n)f[v]=o;return f},D=j(z,[["__scopeId","data-v-73b952c6"]]);z.__docgenInfo={exportName:"default",displayName:"Table",description:"",tags:{},props:[{name:"title",description:"Title of this table",type:{name:"string"}},{name:"columns",description:"Columns of table config",type:{name:"ColumnProp[]"},required:!0},{name:"dataSources",description:"Data record array to be displayed",type:{name:"any[]"}},{name:"bordered",description:"Border to all cells",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"striped",description:"Whether table is striped",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"narrowed",description:"Makes the cells narrower",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"hoverable",description:"Rows are highlighted when hovering",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"sticky",description:"Set sticky header and scroll bar",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"scroll",description:"Whether the table can be scrollable",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"height",description:'Height of this table. Works only when the "scroll" parameter is enabled',type:{name:"number | string"},defaultValue:{func:!1,value:"'inherit'"}}],sourceFiles:["C:/Users/Yuri/Documents/GitHub/bear-ui/src/components/table/Table.vue"]};const Q={title:"UI components/Elements/Table",component:D,tags:["autodocs"],argTypes:{type:{control:{type:"select"},options:["button","submit","reset"]},tag:{control:{type:"select"},options:["a","button","input","router-link","nuxt-link","n-link","RouterLink","NuxtLink","NLink"]},disabled:{control:{type:"boolean"}},size:{control:{type:"radio"},options:["is-small","is-normal","is-medium","is-large"]},color:{control:{type:"select"},options:["primary","secondary"]},onClick:{action:"clicked"}},args:{title:"Bear Table"}},H=e=>({components:{Table:D},setup(){return{args:e}},template:`
    <Table v-bind="args" />
  `}),k={columns:[{title:"Full Name",width:100,dataIndex:"name",key:"name",fixed:"left"},{title:"Age",width:100,dataIndex:"age",key:"age"},{title:"Column 1",dataIndex:"address1",key:"1",children:[{title:"Column 2",dataIndex:"address2",key:"2",width:100,fixed:"left"},{title:"Column 3",dataIndex:"address3",key:"3",children:[{title:"Column 4",dataIndex:"address2",key:"2"},{title:"Column 5",dataIndex:"address3",key:"3",width:150}]},{title:"Column 6",dataIndex:"address4",key:"4",width:150,children:[{title:"Column 7",dataIndex:"address2",key:"2",width:150,fixed:"right"},{title:"Column 8",dataIndex:"address3",key:"3",width:150}]}]},{title:"Action",dataIndex:"operation",key:"operation",fixed:"right",width:100}],dataSources:e=>[...Array(e).keys()].map(n=>({key:n,name:`Edward King ${n}`,age:32,address1:`London, Park Lane no. ${n}`,address2:`London, Park Lane no. ${n}`,address3:`London, Park Lane no. ${n}`,address4:`London, Park Lane no. ${n}`,address5:`London, Park Lane no. ${n}`,address6:`London, Park Lane no. ${n}`,address7:`London, Park Lane no. ${n}`,address8:`London, Park Lane no. ${n}`,operation:`Operation ${n}`}))},b={args:{columns:k.columns,dataSources:k.dataSources(5)},parameters:{controls:{expanded:!0,exclude:["columns","dataSources"]}},render:H.bind({})},g={args:{columns:k.columns,dataSources:k.dataSources(50),sticky:!0,scroll:!0,height:"350px"},parameters:{controls:{expanded:!0,exclude:["columns","dataSources"]}},render:H.bind({})};var A,F,_;b.parameters={...b.parameters,docs:{...(A=b.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {
    columns: baseRecords.columns,
    dataSources: baseRecords.dataSources(5)
  },
  parameters: {
    controls: {
      expanded: true,
      exclude: ['columns', 'dataSources']
    }
  },
  render: Template.bind({})
}`,...(_=(F=b.parameters)==null?void 0:F.docs)==null?void 0:_.source}}};var E,M,W;g.parameters={...g.parameters,docs:{...(E=g.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    columns: baseRecords.columns,
    dataSources: baseRecords.dataSources(50),
    sticky: true,
    scroll: true,
    height: '350px'
  },
  parameters: {
    controls: {
      expanded: true,
      exclude: ['columns', 'dataSources']
    }
  },
  render: Template.bind({})
}`,...(W=(M=g.parameters)==null?void 0:M.docs)==null?void 0:W.source}}};const X=["Base","ScrollAndSticky"];export{b as Base,g as ScrollAndSticky,X as __namedExportsOrder,Q as default};
//# sourceMappingURL=Table.stories-wVTGkzn-.js.map
